<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Drupal Docker: The First-Run Script" /><meta name="author" content="Ryan Robinson" /><meta property="og:locale" content="en" /><meta name="description" content="This continues a mini-series describing how I set up a Drupal development environment using Docker Desktop and the VS Code devcontainer functionality. The full code is available in my GitHub." /><meta property="og:description" content="This continues a mini-series describing how I set up a Drupal development environment using Docker Desktop and the VS Code devcontainer functionality. The full code is available in my GitHub." /><link rel="canonical" href="https://ryanrobinson.technology/websites/drupal/docker-config-script/" /><meta property="og:url" content="https://ryanrobinson.technology/websites/drupal/docker-config-script/" /><meta property="og:site_name" content="Ryan Robinson Technology" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-06-28T21:46:00-04:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Drupal Docker: The First-Run Script" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@Ryan Robinson" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Ryan Robinson"},"dateModified":"2022-06-28T21:46:00-04:00","datePublished":"2022-06-28T21:46:00-04:00","description":"This continues a mini-series describing how I set up a Drupal development environment using Docker Desktop and the VS Code devcontainer functionality. The full code is available in my GitHub.","headline":"Drupal Docker: The First-Run Script","mainEntityOfPage":{"@type":"WebPage","@id":"https://ryanrobinson.technology/websites/drupal/docker-config-script/"},"url":"https://ryanrobinson.technology/websites/drupal/docker-config-script/"}</script><title>Drupal Docker: The First-Run Script | Ryan Robinson Technology</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Ryan Robinson Technology"><meta name="application-name" content="Ryan Robinson Technology"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/Ryan.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Ryan Robinson Technology</a></div><div class="site-subtitle font-italic">Web technology, Microsoft 365, and more</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/tools/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>TOOLS</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/ryan-l-robinson" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://mstdn.ca/@Ryan" aria-label="mastodon" target="_blank" rel="noopener"> <i class="fab fa-mastodon"></i> </a> <a href="https://www.linkedin.com/in/ryanlewisrobinson/" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Drupal Docker: The First-Run Script</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"> <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 300'%3E%3C/svg%3E" data-src="/assets/img/logo/Drupal.png" class="preview-img bg" alt="Drupal logo" width="300" height="300" data-proofer-ignore><h1 data-toc-skip>Drupal Docker: The First-Run Script</h1><div class="post-meta text-muted"><div> By <em> <a href="https://www.linkedin.com/in/ryanlewisrobinson/">Ryan Robinson</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" date="2022-06-28 21:46:00 -0400" data-toggle="tooltip" data-placement="bottom" title="Tue, Jun 28, 2022, 9:46 PM -0400" >Jun 28, 2022</em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="594 words"> <em>3 min</em> read</span></div></div></div><div class="post-content"><p>This continues a mini-series describing how I set up a Drupal development environment using <a href="/tags/drupal-docker/">Docker Desktop and the VS Code devcontainer functionality</a>. The full code is available in <a href="https://github.com/ryan-l-robinson/Drupal-Devcontainer">my GitHub</a>.</p><p>This post will look at the configuration script that runs on the initial creation of the containers. It will handle the majority of the Drupal-specific functionality, roughly equivalent to <a href="/websites/drupal/drupal-gitpod-container-2-gitpod-yml/">the GitPod.yml file</a> of <a href="/tags/gitpod-drupal/">the GitPod series</a>.</p><p>This is a bash script that runs in the container once it is first built, so start by defining it as a bash script:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="c">#!/bin/bash</span>
</pre></table></code></div></div><p>Enforce permissions on the SSH keys, needed for the git SSH connection to work:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo chown</span> <span class="nt">-R</span> drupal:drupal /home/drupal/.ssh
<span class="nb">chmod</span> <span class="nt">-R</span> 700 ~/.ssh
</pre></table></code></div></div><p>Provide ownership of entire web root to drupal user:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo chown</span> <span class="nt">-R</span> drupal:apache /var/www/html
</pre></table></code></div></div><p>Move to codebase:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">cd</span> /var/www/html/local.drupal.com
</pre></table></code></div></div><p>Add local domain to hosts file (useful for tools like pa11y being able to browse the site):</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">if</span> <span class="o">[</span> <span class="o">!</span> <span class="nt">-z</span> <span class="si">$(</span><span class="nb">grep</span> <span class="s2">"127.0.0.1 local.drupal.com"</span> /etc/hosts<span class="si">)</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"127.0.0.1 local.drupal.com"</span> <span class="o">&gt;&gt;</span> /etc/hosts
<span class="k">fi</span>
</pre></table></code></div></div><p>Create database and grant all privileges to drupal user. In this case I’m putting it in the script explicitly because I want to share an out-of-the-box functional system. If you’re going to do this with a real site, make sure you aren’t using the same password on servers that anybody else can access, unlike Docker on your computer. Also it should be a stronger password than “root.”</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>mysql <span class="nt">--host</span><span class="o">=</span><span class="s2">"db"</span> <span class="nt">-e</span> <span class="s2">"CREATE DATABASE IF NOT EXISTS drupal;"</span> <span class="nt">-u</span> root <span class="nt">--password</span><span class="o">=</span><span class="s2">"root"</span>
mysql <span class="nt">--host</span><span class="o">=</span><span class="s2">"db"</span> <span class="nt">-e</span> <span class="s2">"GRANT ALL PRIVILEGES ON drupal.* TO 'drupal'@'%';"</span> <span class="nt">-u</span> root <span class="nt">--password</span><span class="o">=</span><span class="s2">"root"</span>
</pre></table></code></div></div><p>Install site’s contributed code base from composer:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>composer <span class="nb">install</span>
</pre></table></code></div></div><p>Add drush alias to PATH for easier use:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">echo</span> <span class="s2">"alias drush=</span><span class="se">\"</span><span class="s2">/var/www/html/local.drupal.com/vendor/drush/drush/drush</span><span class="se">\"</span><span class="s2">"</span> <span class="o">&gt;&gt;</span> ~/.bashrc
</pre></table></code></div></div><p>Copy the Drupal configuration files:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="k">if</span> <span class="o">[[</span> <span class="nt">-f</span> ./.devcontainer/conf/drupal.settings.php <span class="o">]]</span>
<span class="k">then
  </span><span class="nb">sudo cp</span> .devcontainer/conf/drupal.settings.php web/sites/default/settings.php
<span class="k">fi
if</span> <span class="o">[[</span> <span class="nt">-f</span> ./.devcontainer/conf/local.services.yml <span class="o">]]</span>
<span class="k">then
  </span><span class="nb">sudo cp</span> .devcontainer/conf/local.services.yml web/sites/local.services.yml
<span class="k">fi
if</span> <span class="o">[[</span> <span class="o">!</span> <span class="nt">-d</span> private <span class="o">]]</span>
<span class="k">then
  </span><span class="nb">mkdir </span>private
  <span class="nb">chmod </span>755 private
<span class="k">fi
if</span> <span class="o">[[</span> <span class="o">!</span> <span class="nt">-d</span> <span class="nb">sync</span>/config <span class="o">]]</span>
<span class="k">then
  </span><span class="nb">mkdir</span> <span class="nt">-p</span> <span class="nb">sync</span>/config
<span class="k">fi</span>
</pre></table></code></div></div><p>Import the existing configuration. Note that there is a drush command to build a new site from the existing configuration, but it did not work reliably in this context.</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>vendor/drush/drush/drush site-install <span class="nt">-y</span> minimal
vendor/drush/drush/drush cset <span class="nt">-y</span> system.site uuid <span class="s2">"3d9878de-3355-4510-af4d-575deb24055f"</span>
vendor/drush/drush/drush config-import <span class="nt">-y</span>
</pre></table></code></div></div><p>Flush generated images, which helps if configuration changes since last time including changes to the media formats. This isn’t really necessary when you aren’t also using <a href="https://drupal.org/project/content_sync">the content_sync module</a>, which I no longer am in this demo, since without that there are no images to regenerate. But I kept the image flush anyway to demonstrate how that works.</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>vendor/drush/drush/drush image-flush <span class="nt">--all</span>
</pre></table></code></div></div><p>Sets admin password. The same note applies as with the MySQL passwords above.</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>vendor/drush/drush/drush user:password admin <span class="s2">"ZNB*ufm1tyz4rwc@yzk"</span>
</pre></table></code></div></div><p>Rebuild the node access caches. This isn’t a huge issue, but does save clearing a warning that appears in Drupal.</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>vendor/drush/drush/drush php-eval <span class="s1">'node_access_rebuild();'</span>
</pre></table></code></div></div><p>Set the <a href="https://www.drupal.org/project/environment_indicator">environment indicator</a>. This is a Drupal module that shows the site toolbar and favicon with different colours. It’s very helpful to visually cue your brain when you’re in Docker vs dev vs staging vs production. For this to work, you’ll have to include the environment indicator module in your composer.json file.</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>vendor/drush/drush/drush cset <span class="nt">-y</span> environment_indicator.indicator name <span class="s2">"Local Docker"</span>
vendor/drush/drush/drush cset <span class="nt">-y</span> environment_indicator.indicator fg_color <span class="s2">"#ffffff"</span>
vendor/drush/drush/drush cset <span class="nt">-y</span> environment_indicator.indicator bg_color <span class="s2">"#000000"</span>
</pre></table></code></div></div><p>Finally, the all-important clearing of the caches:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>vendor/drush/drush/drush cr
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/websites/'>Websites</a>, <a href='/categories/drupal/'>Drupal</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/drupal-docker/" class="post-tag no-text-decoration" >Drupal Docker</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Drupal Docker: The First-Run Script - Ryan Robinson Technology&url=https://ryanrobinson.technology/websites/drupal/docker-config-script/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Drupal Docker: The First-Run Script - Ryan Robinson Technology&u=https://ryanrobinson.technology/websites/drupal/docker-config-script/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Drupal Docker: The First-Run Script - Ryan Robinson Technology&url=https://ryanrobinson.technology/websites/drupal/docker-config-script/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://ryanrobinson.technology/websites/drupal/docker-config-script/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recent Update</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/websites/drupal/dev-env-updated/">Drupal Dev Environment Updated: The Dockerfiles</a><li><a href="/websites/drupal/open-menu/">Drupal: Open Menu</a><li><a href="/websites/vs-code/extensions-2024/">VS Code Extensions: My Workflows</a><li><a href="/websites/drupal/disable-pw-reset/">Drupal: Disable Password Reset</a><li><a href="/websites/brandwood-a11y/">Brandwood A11y Checker</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/visual-studio-code/">Visual Studio Code</a> <a class="post-tag" href="/tags/security/">Security</a> <a class="post-tag" href="/tags/php/">PHP</a> <a class="post-tag" href="/tags/github/">GitHub</a> <a class="post-tag" href="/tags/gitlab/">GitLab</a> <a class="post-tag" href="/tags/accessibility/">Accessibility</a> <a class="post-tag" href="/tags/ms-101/">MS-101</a> <a class="post-tag" href="/tags/gitlab-devops/">GitLab DevOps</a> <a class="post-tag" href="/tags/ms-700/">MS-700</a> <a class="post-tag" href="/tags/drupal-docker/">Drupal Docker</a></div></div></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/websites/drupal/drupal-docker-devcontainer/"><div class="card-body"> <em class="timeago small" date="2022-03-18 08:38:00 -0400" >Mar 18, 2022</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Drupal Docker: devcontainer</h3><div class="text-muted small"><p> I have previously shared setting up local development environments using vagrant and GitPod in Drupal friendly ways. This post will start a new mini-series on how I built a Docker Desktop setup for...</p></div></div></a></div><div class="card"> <a href="/websites/drupal/dockerfiles/"><div class="card-body"> <em class="timeago small" date="2022-06-23 21:46:00 -0400" >Jun 23, 2022</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Drupal Docker: The Dockerfiles</h3><div class="text-muted small"><p> This continues a mini-series describing how I set up a Drupal development environment using Docker Desktop and the VS Code devcontainer functionality. The full code is available in my GitHub. This...</p></div></div></a></div><div class="card"> <a href="/websites/drupal/dev-env-updated/"><div class="card-body"> <em class="timeago small" date="2024-03-24 20:16:00 -0400" >Mar 24</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Drupal Dev Environment Updated: The Dockerfiles</h3><div class="text-muted small"><p> A while ago I wrote about building a Docker Desktop dev environment for Drupal. It was built on Oracle Linux, a requirement in that context, with three images for Apache, PHP, and MySQL. But there ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/websites/gitlab-devops/local-workflows/" class="btn btn-outline-primary" prompt="Older"><p>GitLab DevOps: Local Workflows</p></a> <a href="/websites/local-development-options/" class="btn btn-outline-primary" prompt="Newer"><p>Local Development Options: Vagrant, Docker Desktop, and GitPod</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://www.linkedin.com/in/ryanlewisrobinson/">Ryan Robinson</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/visual-studio-code/">Visual Studio Code</a> <a class="post-tag" href="/tags/security/">Security</a> <a class="post-tag" href="/tags/php/">PHP</a> <a class="post-tag" href="/tags/github/">GitHub</a> <a class="post-tag" href="/tags/gitlab/">GitLab</a> <a class="post-tag" href="/tags/accessibility/">Accessibility</a> <a class="post-tag" href="/tags/ms-101/">MS-101</a> <a class="post-tag" href="/tags/gitlab-devops/">GitLab DevOps</a> <a class="post-tag" href="/tags/ms-700/">MS-700</a> <a class="post-tag" href="/tags/drupal-docker/">Drupal Docker</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
