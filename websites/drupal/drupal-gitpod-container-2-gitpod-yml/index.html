<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Drupal GitPod Container 2: .gitpod.yml" /><meta name="author" content="Ryan Robinson" /><meta property="og:locale" content="en" /><meta name="description" content="This post picks up in a mini-series describing how I created a generic Drupal-friendly container working with GitPod. The first covered the GitPod.Dockerfile to build the core LAMP stack image." /><meta property="og:description" content="This post picks up in a mini-series describing how I created a generic Drupal-friendly container working with GitPod. The first covered the GitPod.Dockerfile to build the core LAMP stack image." /><link rel="canonical" href="https://ryanrobinson.technology/websites/drupal/drupal-gitpod-container-2-gitpod-yml/" /><meta property="og:url" content="https://ryanrobinson.technology/websites/drupal/drupal-gitpod-container-2-gitpod-yml/" /><meta property="og:site_name" content="Ryan Robinson Technology" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-01-28T08:17:00-05:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Drupal GitPod Container 2: .gitpod.yml" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@Ryan Robinson" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Ryan Robinson"},"dateModified":"2022-01-28T08:17:00-05:00","datePublished":"2022-01-28T08:17:00-05:00","description":"This post picks up in a mini-series describing how I created a generic Drupal-friendly container working with GitPod. The first covered the GitPod.Dockerfile to build the core LAMP stack image.","headline":"Drupal GitPod Container 2: .gitpod.yml","mainEntityOfPage":{"@type":"WebPage","@id":"https://ryanrobinson.technology/websites/drupal/drupal-gitpod-container-2-gitpod-yml/"},"url":"https://ryanrobinson.technology/websites/drupal/drupal-gitpod-container-2-gitpod-yml/"}</script><title>Drupal GitPod Container 2: .gitpod.yml | Ryan Robinson Technology</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Ryan Robinson Technology"><meta name="application-name" content="Ryan Robinson Technology"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/Ryan.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Ryan Robinson Technology</a></div><div class="site-subtitle font-italic">Web technology, Microsoft 365, and more</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/tools/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>TOOLS</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/ryan-l-robinson" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://mstdn.ca/@Ryan" aria-label="mastodon" target="_blank" rel="noopener"> <i class="fab fa-mastodon"></i> </a> <a href="https://www.linkedin.com/in/ryanlewisrobinson/" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Drupal GitPod Container 2: .gitpod.yml</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"> <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 300'%3E%3C/svg%3E" data-src="/assets/img/logo/GitPod.png" class="preview-img bg" alt="GitPod logo" width="300" height="300" data-proofer-ignore><h1 data-toc-skip>Drupal GitPod Container 2: .gitpod.yml</h1><div class="post-meta text-muted"><div> By <em> <a href="https://www.linkedin.com/in/ryanlewisrobinson/">Ryan Robinson</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" date="2022-01-28 08:17:00 -0500" data-toggle="tooltip" data-placement="bottom" title="Fri, Jan 28, 2022, 8:17 AM -0500" >Jan 28, 2022</em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1161 words"> <em>6 min</em> read</span></div></div></div><div class="post-content"><p>This post picks up in a <a href="/tags/gitpod-drupal/">mini-series</a> describing how I created a generic Drupal-friendly container working with <a href="https://gitpod.io">GitPod</a>. The <a href="/drupal/gitpod-container-1-dockerfile/">first covered the GitPod.Dockerfile</a> to build the core LAMP stack image.</p><p><a href="https://github.com/ryan-l-robinson/Drupal-GitPod">The entire project is available in my GitHub</a>.</p><p>More of the remaining work is done by the .gitpod.yml file, including referencing the Dockerfile image described in the previous part, as the starting point.</p><pre><code class="language-gitpod">image:
  file: .gitpod/GitPod.Dockerfile
</code></pre><h2 id="tasks">Tasks<a href="#tasks" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>It then runs a handful of tasks, split into two sections. The tasks under “init” will run only when the container is created for the first time. The tasks under “command” will run every time the container is started, even if you’re re-opening an existing container.</p><h3 id="create-the-database">Create the database<a href="#create-the-database" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>Creating the database is straightforward and familiar enough to any who have used MySQL from a command line before:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>mysql <span class="nt">-e</span> <span class="s2">"CREATE DATABASE IF NOT EXISTS drupal"</span>
</pre></table></code></div></div><h3 id="install-codebase">Install codebase<a href="#install-codebase" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>The contributed codebase can be built using composer install:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>composer <span class="nb">install</span>
</pre></table></code></div></div><p>I’m also going to copy the settings file into place:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo cp</span> .gitpod/drupal.settings.php web/sites/default/settings.php
</pre></table></code></div></div><p>That settings file includes several alterations including where to find the configuration and content sync directories, how to connect to the database, and which URL is allowed to login from. Most of it will be familiar to those who have used Drupal settings files before, but I will cover anything unique in my next post for this series.</p><h3 id="drupal-settings-and-content">Drupal settings and content<a href="#drupal-settings-and-content" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>This is the hardest part of working with Drupal websites. All of the configuration and content is held in the database, not the codebase. Drupal (since 8) offers a configuration sync tool out of the box, and a content sync tool as a module. Broadly speaking, the configuration tool is usually pretty reliable, while the content tool has had some occasional glitches in my time using it.</p><p>I install the site using <a href="https://www.drush.org/latest/commands/site_install/">the drush site-install tool</a>:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>vendor/drush/drush/drush <span class="nt">-y</span> site-install minimal <span class="nt">--existing-config</span>
</pre></table></code></div></div><p>The key there is the –existing-config tag. This starts the installation using the configuration details you already have in the configuration sync folder. The main thing this accomplishes is keeping the UUID of the site in sync. Config sync and content sync will not work if the UUIDs don’t match.</p><p>Now the content sync will also work:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>vendor/drush/drush/drush <span class="nt">-y</span> content-sync:import <span class="nt">--entity-types</span><span class="o">=</span>block_content,file,node
</pre></table></code></div></div><p>The reason I added the –entity-types instead of simply importing all entity types was because of some experiences with <a href="https://www.drupal.org/project/menu_entity_index">menu_entity_index</a>. I won’t get into those details here, but that created another entity type for menu links, which tended to not synchronize very well mainly because the content sync does not sync the node ID of each content. That meant that a page might have a different ID on one installation from the content sync than on another. Menu items were then pointing to the node ID, which is now different content, and it created some nasty URL aliases.</p><p>Similarly related to the node ID sync is the homepage. The configuration is saved with specifying which piece of content is the homepage using the link to the node ID. But that might no longer be the content you want on the homepage. To solve this, I added a query to find my real homepage and set it again each time:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="nv">home_id</span><span class="o">=</span><span class="si">$(</span>vendor/drush/drush/drush sql-query <span class="s1">'SELECT nid FROM node_field_data where type="home" and status="1" and title="Home" limit 1;'</span><span class="si">)</span>
<span class="k">if</span> <span class="o">[[</span> <span class="o">!</span> <span class="nt">-z</span> <span class="k">${</span><span class="nv">home_id</span><span class="k">}</span> <span class="o">]]</span>
<span class="k">then
    </span>vendor/drush/drush/drush cset <span class="nt">-y</span> system.site page.front /node/<span class="nv">$home_id</span>
<span class="k">fi</span>
</pre></table></code></div></div><p>The key for that structure to be maintained is that the homepage is of the content type “Home” and with the title of “Home.” If that isn’t met, this workaround will fail.</p><h3 id="admin-password">Admin password<a href="#admin-password" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>By default, the site install at this point created a default super-admin user with a random password. For the purpose of this demo, I wanted to control what that admin password was so I could put it in the GitHub README and keep it saved in my <a href="https://ryanrobinson.technology/all/tools/security-essentials-password-manager/">password manager</a>. So, I used drush to always reset the admin password back to what I wanted it to be:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>vendor/drush/drush/drush user:password admin <span class="s2">"ZNB*ufm1tyz4rwc@yzk"</span>
</pre></table></code></div></div><h3 id="cleanup">Cleanup<a href="#cleanup" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>There are two more small acts of clean up that I want, to minimize warning errors that would otherwise appear as soon as I sign in. One is to rebuild the content permissions and the other is to run cron.</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>vendor/drush/drush/drush php-eval <span class="s1">'node_access_rebuild();'</span>
vendor/drush/drush/drush cron
</pre></table></code></div></div><h3 id="drush-alias">Drush alias<a href="#drush-alias" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>I want to be able to use the command <code class="language-plaintext highlighter-rouge">drush</code> instead of always having to reference the full path to drush, as I did above. So I add an alias to my .bashrc. You can also do this by adding the location of drush to the PATH. Arguably that is more correct but this was simpler in a GitPod scenario where containers are constantly being built and destroyed and so don’t always have to be precisely the long-term ideal.</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">echo</span> <span class="s1">'alias drush="/workspace/drupal-gitpod/vendor/drush/drush/drush"'</span> <span class="o">&gt;&gt;</span> ~/.bashrc
</pre></table></code></div></div><h3 id="command">Command<a href="#command" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>The command tasks accomplish two simple things: start Apache, and source the bashrc to make sure it notices the drush alias.</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">source</span> ~/.bashrc
apachectl start
</pre></table></code></div></div><h2 id="ports">Ports<a href="#ports" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>The GitPod.yml file optionally defines ports and what to do when they open. You don’t need to have this section. The ports will open either way. But it can be nice to specify in advance what you want to do when each port opens. In this case, I’m ignoring everything except for 8001, which I will open in the browser, since that is the port for the Apache access. If you don’t specify, it will give you a popup with each port opened asking what you want to do, so this saves some time.</p><pre><code class="language-gitpod">ports:
  - port: 8001
    onOpen: open-browser
  - port: 8828
    onOpen: ignore
  - port: 8829
    onOpen: ignore
  - port: 3306
    onOpen: ignore
</code></pre><h2 id="github">GitHub<a href="#github" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>This section starts with a somewhat misleading key “github.” These functions are not exclusive to GitHub – they can be used with any of the supported version control platforms with GitLab and Bitbucket as well. The main valuable thing here to me is defining prebuilds, which enables GitPod to start building the new image as soon as code changes are submitted to the repository. That saves time when you’re ready to start working and it’s already good to go, instead of waiting a few minutes.</p><pre><code class="language-gitpod">github:
  prebuilds:
    master: true
    branches: true
    pullRequests: true
    pullRequestsFromForks: true
    addCheck: true
    addComment: false
    addBadge: true
    addLabel: true
</code></pre><h2 id="extensions">Extensions<a href="#extensions" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>The final section of this file is to install <a href="/tags/visual-studio-code/">VS Code</a> extensions. There is one big qualifier here: it can only install extensions that are available in <a href="https://open-vsx.org/">the Open VSX registry</a>. This may not be everything available for VS Code, with the most notable exclusion for me being <a href="/websites/github-copilot/">GitHub Copilot</a>.</p><p>Here’s my Drupal 9 friendly set of extensions:</p><pre><code class="language-gitpod">vscode:
  extensions:
    - eamodio.gitlens
    - skippednote.VS-code-drupal
    - cweijan.vscode-mysql-client2
    - esbenp.prettier-vscode
    - gruntfuggly.todo-tree
    - mblode.twig-language
    - vscode-icons-team.vscode-icons
</code></pre><h2 id="almost-there">Almost there…<a href="#almost-there" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>In the last post of this series, I’ll look at a few other configuration changes I needed to make for this to work.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/websites/'>Websites</a>, <a href='/categories/drupal/'>Drupal</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/github/" class="post-tag no-text-decoration" >GitHub</a> <a href="/tags/gitlab/" class="post-tag no-text-decoration" >GitLab</a> <a href="/tags/gitpod/" class="post-tag no-text-decoration" >GitPod</a> <a href="/tags/gitpod-drupal/" class="post-tag no-text-decoration" >GitPod Drupal</a> <a href="/tags/mysql/" class="post-tag no-text-decoration" >MySQL</a> <a href="/tags/visual-studio-code/" class="post-tag no-text-decoration" >Visual Studio Code</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Drupal GitPod Container 2: .gitpod.yml - Ryan Robinson Technology&url=https://ryanrobinson.technology/websites/drupal/drupal-gitpod-container-2-gitpod-yml/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Drupal GitPod Container 2: .gitpod.yml - Ryan Robinson Technology&u=https://ryanrobinson.technology/websites/drupal/drupal-gitpod-container-2-gitpod-yml/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Drupal GitPod Container 2: .gitpod.yml - Ryan Robinson Technology&url=https://ryanrobinson.technology/websites/drupal/drupal-gitpod-container-2-gitpod-yml/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://ryanrobinson.technology/websites/drupal/drupal-gitpod-container-2-gitpod-yml/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recent Update</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/websites/drupal/dev-env-updated/">Drupal Dev Environment Updated: The Dockerfiles</a><li><a href="/websites/drupal/open-menu/">Drupal: Open Menu</a><li><a href="/websites/vs-code/extensions-2024/">VS Code Extensions: My Workflows</a><li><a href="/websites/drupal/disable-pw-reset/">Drupal: Disable Password Reset</a><li><a href="/websites/brandwood-a11y/">Brandwood A11y Checker</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/visual-studio-code/">Visual Studio Code</a> <a class="post-tag" href="/tags/security/">Security</a> <a class="post-tag" href="/tags/php/">PHP</a> <a class="post-tag" href="/tags/github/">GitHub</a> <a class="post-tag" href="/tags/gitlab/">GitLab</a> <a class="post-tag" href="/tags/accessibility/">Accessibility</a> <a class="post-tag" href="/tags/ms-101/">MS-101</a> <a class="post-tag" href="/tags/gitlab-devops/">GitLab DevOps</a> <a class="post-tag" href="/tags/ms-700/">MS-700</a> <a class="post-tag" href="/tags/drupal-docker/">Drupal Docker</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/drupal/gitpod-container-1-dockerfile/"><div class="card-body"> <em class="timeago small" date="2022-01-20 11:00:48 -0500" >Jan 20, 2022</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Drupal GitPod Container 1: .Dockerfile</h3><div class="text-muted small"><p> GitPod is a great tool for cloud-based containers when developing. If you’re developing and want a safe and efficient cloud container to try things out, it’s a pretty good way to go. You even get 5...</p></div></div></a></div><div class="card"> <a href="/websites/drupal/drupal-gitpod-container-3-settings-and-config/"><div class="card-body"> <em class="timeago small" date="2022-02-01 15:02:00 -0500" >Feb 1, 2022</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Drupal GitPod Container 3: Settings and Config</h3><div class="text-muted small"><p> This post continues a mini-series in which I describe how I created a generic Drupal-friendly container working with GitPod. The code is available in my GitHub. The first two posts covered the two...</p></div></div></a></div><div class="card"> <a href="/websites/gitlab-devops/local-workflows/"><div class="card-body"> <em class="timeago small" date="2022-06-26 21:54:15 -0400" >Jun 26, 2022</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>GitLab DevOps: Local Workflows</h3><div class="text-muted small"><p> This continues a series setting up a GitLab DevOps pipeline through local virtual machine / container, GitLab, a dev server, a staging server, and a production server. This post assumes you already...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/websites/drupal/drupal-assign-permissions-based-on-username-file/" class="btn btn-outline-primary" prompt="Older"><p>Drupal: Assign Permissions Based on Username File</p></a> <a href="/websites/drupal/drupal-gitpod-container-3-settings-and-config/" class="btn btn-outline-primary" prompt="Newer"><p>Drupal GitPod Container 3: Settings and Config</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://www.linkedin.com/in/ryanlewisrobinson/">Ryan Robinson</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/visual-studio-code/">Visual Studio Code</a> <a class="post-tag" href="/tags/security/">Security</a> <a class="post-tag" href="/tags/php/">PHP</a> <a class="post-tag" href="/tags/github/">GitHub</a> <a class="post-tag" href="/tags/gitlab/">GitLab</a> <a class="post-tag" href="/tags/accessibility/">Accessibility</a> <a class="post-tag" href="/tags/ms-101/">MS-101</a> <a class="post-tag" href="/tags/gitlab-devops/">GitLab DevOps</a> <a class="post-tag" href="/tags/ms-700/">MS-700</a> <a class="post-tag" href="/tags/drupal-docker/">Drupal Docker</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
