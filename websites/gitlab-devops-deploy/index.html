<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="GitLab DevOps: Deploy to Server" /><meta name="author" content="Ryan Robinson" /><meta property="og:locale" content="en" /><meta name="description" content="This continues with the long-stalled GitLab DevOps series. An essential piece of any CI/CD system is deploying to another server. You do not want to have to sign in to each server separately and carry out 15 deployment steps to take backups, pull the updated code, import new configuration, update database schemas, clear caches, etc. You want to hit a button and it rolls out everywhere. You also want to have the ability to easily roll back if you realize a mistake was made." /><meta property="og:description" content="This continues with the long-stalled GitLab DevOps series. An essential piece of any CI/CD system is deploying to another server. You do not want to have to sign in to each server separately and carry out 15 deployment steps to take backups, pull the updated code, import new configuration, update database schemas, clear caches, etc. You want to hit a button and it rolls out everywhere. You also want to have the ability to easily roll back if you realize a mistake was made." /><link rel="canonical" href="https://ryanrobinson.technology/websites/gitlab-devops-deploy/" /><meta property="og:url" content="https://ryanrobinson.technology/websites/gitlab-devops-deploy/" /><meta property="og:site_name" content="Ryan Robinson Technology" /><meta property="og:image" content="https://ryanrobinson.technology/assets/logo/GitLab.png" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-12-30T15:45:05-05:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://ryanrobinson.technology/assets/logo/GitLab.png" /><meta property="twitter:title" content="GitLab DevOps: Deploy to Server" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@Ryan Robinson" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Ryan Robinson"},"dateModified":"2022-12-30T15:45:05-05:00","datePublished":"2022-12-30T15:45:05-05:00","description":"This continues with the long-stalled GitLab DevOps series. An essential piece of any CI/CD system is deploying to another server. You do not want to have to sign in to each server separately and carry out 15 deployment steps to take backups, pull the updated code, import new configuration, update database schemas, clear caches, etc. You want to hit a button and it rolls out everywhere. You also want to have the ability to easily roll back if you realize a mistake was made.","headline":"GitLab DevOps: Deploy to Server","image":"https://ryanrobinson.technology/assets/logo/GitLab.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://ryanrobinson.technology/websites/gitlab-devops-deploy/"},"url":"https://ryanrobinson.technology/websites/gitlab-devops-deploy/"}</script><title>GitLab DevOps: Deploy to Server | Ryan Robinson Technology</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Ryan Robinson Technology"><meta name="application-name" content="Ryan Robinson Technology"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/Ryan.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Ryan Robinson Technology</a></div><div class="site-subtitle font-italic">Web technology, Microsoft 365, and more</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/tools/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>TOOLS</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/ryan-l-robinson" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://mstdn.ca/@Ryan" aria-label="mastodon" target="_blank" rel="noopener"> <i class="fab fa-mastodon"></i> </a> <a href="https://www.linkedin.com/in/ryanlewisrobinson/" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>GitLab DevOps: Deploy to Server</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>GitLab DevOps: Deploy to Server</h1><div class="post-meta text-muted"><div> By <em> <a href="https://www.linkedin.com/in/ryanlewisrobinson/">Ryan Robinson</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" date="2022-12-30 15:45:05 -0500" data-toggle="tooltip" data-placement="bottom" title="Fri, Dec 30, 2022, 3:45 PM -0500" >Dec 30, 2022</em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="868 words"> <em>4 min</em> read</span></div></div></div><div class="post-content"><p>This continues with <a href="/tags/gitlab-devops/">the long-stalled GitLab DevOps series</a>. An essential piece of any CI/CD system is deploying to another server. You do not want to have to sign in to each server separately and carry out 15 deployment steps to take backups, pull the updated code, import new configuration, update database schemas, clear caches, etc. You want to hit a button and it rolls out everywhere. You also want to have the ability to easily roll back if you realize a mistake was made.</p><p>You will first need <a href="/websites/gitlab-devops-gitlab-runner/">a GitLab runner</a> on the server you want to deploy to.</p><p>As with the earlier post on <a href="/websites/drupal/gitlab-devops-php-lint/">PHP linting within GitLab CI/CD</a>, in a real scenario this would be split into two projects. In my real usage, I have one project with the general CI/CD functionality, then the specific website project can extend from those functions to push out to the server. In this demo scenario, it is all in <a href="https://github.com/ryan-l-robinson/GitLab-CI-CD">one project of my GitHub</a>.</p><h2 id="deployyml">Deploy.yml<a href="#deployyml" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>The deploy file provides you a baseline template for deploying code changes, which is in the general CI/CD functionality project. Here’s what that might look like:</p><div class="language-yml highlighter-rouge"><div class="code-header"> <span label-text="YAML"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="c1">## Deploy Jobs ##</span>
<span class="na">variables</span><span class="pi">:</span>
  <span class="na">ENVIRONMENT_NAME</span><span class="pi">:</span> <span class="s2">"</span><span class="s">dev"</span>
  <span class="na">SERVER_URL</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
  <span class="na">WEB_ROOT</span><span class="pi">:</span> <span class="s2">"</span><span class="s">/opt/www/html"</span>

<span class="c1">### Generic deploy to specified server ###</span>
<span class="na">.deploy_template</span><span class="pi">:</span>
  <span class="na">stage</span><span class="pi">:</span> <span class="s">deploy</span>
  <span class="na">environment</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">$ENVIRONMENT_NAME</span>
    <span class="na">url</span><span class="pi">:</span> <span class="s">$SERVER_URL</span>
  <span class="na">script</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">echo "Deploying to server at $SERVER_URL"</span>
    <span class="pi">-</span> <span class="s">cd $WEB_ROOT</span>
    <span class="pi">-</span> <span class="s">git fetch</span>
    <span class="pi">-</span> <span class="s">git reset --hard</span>
    <span class="pi">-</span> <span class="s">git stash</span>
    <span class="pi">-</span> <span class="s">git pull</span>
</pre></table></code></div></div><h2 id="project-gitlab-ciyml">Project .gitlab-ci.yml<a href="#project-gitlab-ciyml" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>The other key component is the project’s file to extend this deploy job.</p><p>Start the project’s .gitlab-ci.yml file with including the deploy file from the other project. In a scenario where that is a different project but accessible to the same GitLab user, it would look like this, assuming the project is called gitlab-ci:</p><div class="language-yml highlighter-rouge"><div class="code-header"> <span label-text="YAML"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="c1"># Includes general CI jobs</span>
<span class="na">include</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">project</span><span class="pi">:</span> <span class="s2">"</span><span class="s">[group</span><span class="nv"> </span><span class="s">path</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">project]/gitlab-ci"</span>
    <span class="na">ref</span><span class="pi">:</span> <span class="s">main</span>
    <span class="na">file</span><span class="pi">:</span> <span class="s">deploy.yml</span>
</pre></table></code></div></div><p>This will now give you the freedom to extend jobs found in the deploy.yml file of the main branch on the gitlab-ci project.</p><p>Add deploy as a stage for your project:</p><div class="language-yml highlighter-rouge"><div class="code-header"> <span label-text="YAML"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="na">stages</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">test</span>
  <span class="pi">-</span> <span class="s">deploy</span>
</pre></table></code></div></div><p>Finally, define the job(s) that use(s) the general deploy functionality, passing in the needed variables:</p><div class="language-yml highlighter-rouge"><div class="code-header"> <span label-text="YAML"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
</pre><td class="rouge-code"><pre><span class="c1">## Deploy Jobs ##</span>

<span class="c1">### Deploys to dev server only when changes are made to the dev branch ###</span>
<span class="na">deploy_dev</span><span class="pi">:</span>
  <span class="na">extends</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">.deploy_template</span>
  <span class="na">variables</span><span class="pi">:</span>
    <span class="na">ENVIRONMENT_NAME</span><span class="pi">:</span> <span class="s">Development</span>
    <span class="na">SERVER_URL</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">dev url</span><span class="pi">]</span>
    <span class="na">WEB_ROOT</span><span class="pi">:</span> <span class="s">/opt/www/html</span>
  <span class="na">tags</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="pi">[</span><span class="nv">dev GitLab runner tag</span><span class="pi">]</span>
  <span class="na">only</span><span class="pi">:</span>
    <span class="na">refs</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">dev</span>

<span class="c1">### Deploys to staging server only when changes are made to the main branch ###</span>
<span class="na">deploy_staging</span><span class="pi">:</span>
  <span class="na">extends</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">.deploy_template</span>
  <span class="na">variables</span><span class="pi">:</span>
    <span class="na">ENVIRONMENT_NAME</span><span class="pi">:</span> <span class="s">Development</span>
    <span class="na">SERVER_URL</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">dev url</span><span class="pi">]</span>
    <span class="na">WEB_ROOT</span><span class="pi">:</span> <span class="s">/opt/www/html</span>
  <span class="na">tags</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="pi">[</span><span class="nv">staging GitLab runner tag</span><span class="pi">]</span>
  <span class="na">only</span><span class="pi">:</span>
    <span class="na">refs</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">main</span>

<span class="c1">### Deploys to production only when main branch and manually triggered ###</span>
<span class="na">deploy_prod1</span><span class="pi">:</span>
  <span class="na">extends</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">.deploy_template</span>
  <span class="na">variables</span><span class="pi">:</span>
    <span class="na">ENVIRONMENT_NAME</span><span class="pi">:</span> <span class="s">Production </span><span class="m">1</span>
    <span class="na">SERVER_URL</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">production 1 URL</span><span class="pi">]</span>
    <span class="na">WEB_ROOT</span><span class="pi">:</span> <span class="s">/opt/www/html</span>
  <span class="na">tags</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="pi">[</span><span class="nv">prod 1 GitLab runner tag</span><span class="pi">]</span>
  <span class="na">only</span><span class="pi">:</span>
    <span class="na">refs</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">main</span>
  <span class="na">when</span><span class="pi">:</span> <span class="s">manual</span>

<span class="na">deploy_prod2</span><span class="pi">:</span>
  <span class="na">extends</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">.deploy_template</span>
  <span class="na">variables</span><span class="pi">:</span>
    <span class="na">ENVIRONMENT_NAME</span><span class="pi">:</span> <span class="s">Production </span><span class="m">2</span>
    <span class="na">SERVER_URL</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">production 2 URL</span><span class="pi">]</span>
    <span class="na">WEB_ROOT</span><span class="pi">:</span> <span class="s">/opt/www/html</span>
  <span class="na">tags</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="pi">[</span><span class="nv">prod 2 GitLab runner tag</span><span class="pi">]</span>
  <span class="na">only</span><span class="pi">:</span>
    <span class="na">refs</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">main</span>
  <span class="na">when</span><span class="pi">:</span> <span class="s">manual</span>
</pre></table></code></div></div><p>You will need one of these types of jobs for each server to deploy to, with each’s corresponding variables. This demo includes a dev server, a staging server, and two production servers.</p><h2 id="project-access-token">Project access token<a href="#project-access-token" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>For this to work smoothly, you can use a project access token. This is a unique token that can be set up on a project – essentially a service account – rather than the connection being tied to a particular user. This is helpful to avoid problem scenarios like a sudden change of staff when the deploy was set up using the former staff’s account that no longer exists.</p><p>Create a project token by going to the project -&gt; Settings -&gt; Project Access Tokens. Name the token something descriptive for the server that will be using it, e.g. Dev Server. Specify the permissions for that token. Within this workflow I’ve been walking through here, that is only read access so it can pull within the deployment job. It does not need to be able to write back to the GitLab project, since code changes will always start at local and push through, never the other way around.</p><p>Now when you clone the project or add remote for the new server, add it using a variation on the https format rather than the SSH format:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>https://oauth2:[token]@[GitLab project address]
</pre></table></code></div></div><h2 id="next-drupal-configuration">Next: Drupal Configuration<a href="#next-drupal-configuration" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>This deploys code changes to the servers. You quite possibly need more actions to take place, like database updates, depending on what platform you’re using. In my context of developing this for Drupal, there are several more steps needed. Those will be covered in the next post in this series.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/websites/'>Websites</a>, <a href='/categories/drupal/'>Drupal</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/gitlab/" class="post-tag no-text-decoration" >GitLab</a> <a href="/tags/gitlab-devops/" class="post-tag no-text-decoration" >GitLab DevOps</a> <a href="/tags/php/" class="post-tag no-text-decoration" >PHP</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=GitLab DevOps: Deploy to Server - Ryan Robinson Technology&url=https://ryanrobinson.technology/websites/gitlab-devops-deploy/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=GitLab DevOps: Deploy to Server - Ryan Robinson Technology&u=https://ryanrobinson.technology/websites/gitlab-devops-deploy/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=GitLab DevOps: Deploy to Server - Ryan Robinson Technology&url=https://ryanrobinson.technology/websites/gitlab-devops-deploy/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://ryanrobinson.technology/websites/gitlab-devops-deploy/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recent Update</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/websites/drupal/dev-env-updated/">Drupal Dev Environment Updated: The Dockerfiles</a><li><a href="/websites/drupal/open-menu/">Drupal: Open Menu</a><li><a href="/websites/vs-code/extensions-2024/">VS Code Extensions: My Workflows</a><li><a href="/websites/drupal/disable-pw-reset/">Drupal: Disable Password Reset</a><li><a href="/websites/brandwood-a11y/">Brandwood A11y Checker</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/visual-studio-code/">Visual Studio Code</a> <a class="post-tag" href="/tags/security/">Security</a> <a class="post-tag" href="/tags/php/">PHP</a> <a class="post-tag" href="/tags/github/">GitHub</a> <a class="post-tag" href="/tags/gitlab/">GitLab</a> <a class="post-tag" href="/tags/accessibility/">Accessibility</a> <a class="post-tag" href="/tags/ms-101/">MS-101</a> <a class="post-tag" href="/tags/gitlab-devops/">GitLab DevOps</a> <a class="post-tag" href="/tags/ms-700/">MS-700</a> <a class="post-tag" href="/tags/drupal-docker/">Drupal Docker</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/websites/drupal/gitlab-devops-php-lint/"><div class="card-body"> <em class="timeago small" date="2022-02-05 08:51:00 -0500" >Feb 5, 2022</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>GitLab DevOps: PHP Lint</h3><div class="text-muted small"><p> Here’s another piece in a GitLab DevOps setting: when code is committed to GitLab, I want to run a PHP linter on the custom code folders of Drupal (modules and themes) to make sure there aren’t any...</p></div></div></a></div><div class="card"> <a href="/websites/drupal/gitlab-devops/"><div class="card-body"> <em class="timeago small" date="2023-01-02 10:47:05 -0500" >Jan 2, 2023</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>GitLab DevOps: Drupal Deployment</h3><div class="text-muted small"><p> This continues where the previous post in the GitLab DevOps series left off. We can now deploy code changes to the new server, and that’s great for generic deployments. Drupal adds a few extra comp...</p></div></div></a></div><div class="card"> <a href="/websites/vagrant-oracle-linux-vm/"><div class="card-body"> <em class="timeago small" date="2021-11-10 16:34:00 -0500" >Nov 10, 2021</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Vagrant: Oracle Linux VM</h3><div class="text-muted small"><p> This is the first in a series setting up a basic DevOps pipeline through local virtual machines, GitLab, a dev server, a staging server, and a production server. This first post will look at the lo...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/websites/drupal/active-links-views/" class="btn btn-outline-primary" prompt="Older"><p>Drupal: Active Links in Views</p></a> <a href="/websites/drupal/gitlab-devops/" class="btn btn-outline-primary" prompt="Newer"><p>GitLab DevOps: Drupal Deployment</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://www.linkedin.com/in/ryanlewisrobinson/">Ryan Robinson</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/visual-studio-code/">Visual Studio Code</a> <a class="post-tag" href="/tags/security/">Security</a> <a class="post-tag" href="/tags/php/">PHP</a> <a class="post-tag" href="/tags/github/">GitHub</a> <a class="post-tag" href="/tags/gitlab/">GitLab</a> <a class="post-tag" href="/tags/accessibility/">Accessibility</a> <a class="post-tag" href="/tags/ms-101/">MS-101</a> <a class="post-tag" href="/tags/gitlab-devops/">GitLab DevOps</a> <a class="post-tag" href="/tags/ms-700/">MS-700</a> <a class="post-tag" href="/tags/drupal-docker/">Drupal Docker</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
